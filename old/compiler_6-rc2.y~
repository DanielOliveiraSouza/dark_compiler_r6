		/* UNIVERSIDADE FEDERAL DE MATO GROSSO]
		* CAMPUS UNIVERSITÁRIO DO ARAGUAIA
		* CURSO CIENCIA DA COMPUTAÇÃO
		* DOCENTE:
		*/
%{
	#include <stdio.h>
	#include <stdlib.h>
	#include <string.h>
	#define FULL_STR 2048
	
%}
%token  NUMERAL
%token ID       
%token SE       
%token SENAO       
%token ENTAO       
%token ENQUANTO       
%token FACA       
%token LEIA       
%token ESCREVA       
%token OPEREL       
%token MENOR        
%token MAIOR       
%token MAIORIGUAL       
%token MENORIGUAL       
%token IGUAL       
%token OPERATM       
%token DIFERENTE       
%token INIESCOPO       
%token FIMESCOPO        
%token INIEXPR       
%token FIMEXPR     
%token STRING       
%token TIPODADO      
%token  NUMEROREAL       
%token OPERATR       
%token ERROLEXICO       
%token DELIMITADOR
%type <inteiro> NUMERAL 
%type <real> NUMEROREAL
%type <string> STRING
%type <inteiro> termo
%right '*' 

%union{
	int inteiro;
	float real;
	char str[FULL_STR];
}

%%


termo:
	NUMERAL 	{ $$.inteiro = $1.inteiro;}
	| NUMEROREAL	{ $$.inteiro = $1.inteiro;} 
;
fator:
	NUMERAL		{ $$.inteiro = $1.inteiro }
	| NUMEROREAL	{  $$.inteiro = $1.inteiro }
	| ID  INIEXPR Expressao_numerica FIMEXPR    {$$.inteiro = $1.inteiro } /*  É O MESMO QUE DIZER ID (Expressao_numerica) */
	;
Expressao_numerica:
	Expressao_numerica '+' Expressao_numerica { $$.inteiro= $1.inteiro + $3.inteiro; printf("%d",$$.inteiro);}
	| Expressao_numerica '-' Expressao_numerica  { $$.inteiro = $1.inteiro -$3.inteiro; printf("%d",$$.inteiro);}
	| termo 	{ $$.inteiro = $1.inteiro;  printf("%d",$$.inteiro)}
	| fator 	{ $$.inteiro = $1.inteiro; printf("%d",$$.inteiro) }
	| termo '*' fator { $$.inteiro = $1.inteiro *$3.inteiro; printf("%d",$$.inteiro);}
	| termo '/' fator	{ $$.inteiro = $1.inteiro / $3.inteiro;printf("%d",$$.inteiro); } 

;


%%

void yyerror(char *s) { 
    printf( "%s\n", s); 
} 
int main(void) { 
    yyparse(); 
    return 0; 
} 
